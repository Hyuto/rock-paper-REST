(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{42:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(14),r=n.n(a),s=(n(42),n(25)),o=n(18),d=n(32),l=n(31),u=n(68),h=n(69),j=n(70),f=n(73),g=n(74),b=n(71),m=n(72),p=n(5),v=n(30),O=n.n(v),x=n(4),R=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).inputRef={canvas:i.a.createRef(null),video:i.a.createRef(null),prediction:i.a.createRef(null)},c}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(u.a,{}),Object(x.jsxs)(h.a,{maxWidth:"sm",className:t.root,children:[Object(x.jsx)(j.a,{variant:"h5",style:{margin:5},children:"Rock-Paper-Scissor Detector"}),Object(x.jsxs)(h.a,{className:t.cards,children:[Object(x.jsx)(g.a,{style:{maxWidth:128,margin:5},children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)("video",{ref:this.inputRef.video,autoPlay:!0,width:"128",height:"128"}),Object(x.jsx)(m.a,{className:t.center,children:Object(x.jsx)(j.a,{gutterBottom:!0,variant:"caption",children:Object(x.jsx)("strong",{children:"Webcam"})})})]})}),Object(x.jsx)(g.a,{style:{maxWidth:128,margin:5},children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)("canvas",{ref:this.inputRef.canvas,className:"figure-img img-fluid rounded",width:"128",height:"128"}),Object(x.jsx)(m.a,{className:t.center,children:Object(x.jsx)(j.a,{gutterBottom:!0,variant:"caption",component:"p",ref:this.inputRef.prediction})})]})})]}),Object(x.jsxs)(h.a,{className:t.buttons,children:[Object(x.jsx)(f.a,{variant:"contained",className:t.buttons,onClick:function(){return t=e.inputRef.video.current,void(navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}}).then((function(e){t.srcObject=e})).catch((function(e){console.log(e)})));var t},children:"Start"}),Object(x.jsx)(f.a,{variant:"contained",color:"secondary",className:t.buttons,onClick:function(){return function(e,t,n){if(null!==t.srcObject){for(var c=e.getContext("2d"),i=t.srcObject.getTracks(),a=0;a<i.length;a++)i[a].stop();t.srcObject=null,c.clearRect(0,0,e.width,e.height)}n.innerHTML=""}(e.inputRef.canvas.current,e.inputRef.video.current,e.inputRef.prediction.current)},children:"Stop"}),Object(x.jsx)(f.a,{variant:"contained",color:"primary",endIcon:Object(x.jsx)(O.a,{}),className:t.buttons,onClick:function(){return function(e,t,n){var c=e.getContext("2d");c.drawImage(t,0,0,e.width,e.height);var i=Array.from(c.getImageData(0,0,e.width,e.height).data);n.innerHTML="",fetch("".concat(window.location.href,"api/"),{method:"POST",body:JSON.stringify({image:i})}).then((function(e){return e.json()})).then((function(e){n.innerHTML="Prediction <strong>".concat(e.predicted,"</strong>")}))}(e.inputRef.canvas.current,e.inputRef.video.current,e.inputRef.prediction.current)},children:"Take and Predict"})]})]})]})}}]),n}(i.a.Component),y=Object(p.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},cards:{display:"flex","justify-content":"center"},buttons:{"text-align":"center",margin:e.spacing(.5)},center:{"text-align":"center"}}}))(R),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),w()}},[[53,1,2]]]);
//# sourceMappingURL=main.41648eea.chunk.js.map
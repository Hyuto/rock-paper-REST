(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(3),a=n.n(r),o=(n(12),n(4)),s=n(5),u=n(7),d=n(6),f=n(0),l=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).inputRef={canvas:c.a.createRef(null),video:c.a.createRef(null),prediction:c.a.createRef(null)},i}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"App container",children:[Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("video",{ref:this.inputRef.video,autoPlay:!0,width:"128",height:"128"}),Object(f.jsxs)("figure",{className:"figure",children:[Object(f.jsx)("canvas",{ref:this.inputRef.canvas,className:"figure-img img-fluid rounded",width:"128",height:"128"}),Object(f.jsx)("figcaption",{ref:this.inputRef.prediction,className:"figure-caption text-center"})]})]}),Object(f.jsxs)("div",{className:"container btn-wrapper",children:[Object(f.jsx)("button",{className:"btn btn-dark",onClick:function(){return t=e.inputRef.video.current,void(navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.srcObject=e})).catch((function(e){console.log(e)})));var t},children:"Start"}),Object(f.jsx)("button",{className:"btn btn-dark",onClick:function(){return function(e,t,n){if(null!==t.srcObject){for(var i=e.getContext("2d"),c=t.srcObject.getTracks(),r=0;r<c.length;r++)c[r].stop();t.srcObject=null,i.clearRect(0,0,e.width,e.height),n.innerHTML=""}}(e.inputRef.canvas.current,e.inputRef.video.current,e.inputRef.prediction.current)},children:"Stop"}),Object(f.jsx)("button",{className:"btn btn-dark",onClick:function(){return function(e,t,n){var i=e.getContext("2d");i.drawImage(t,0,0,e.width,e.height);var c=Array.from(i.getImageData(0,0,e.width,e.height).data);fetch("".concat(window.location.href,"api/"),{method:"POST",body:JSON.stringify({image:c})}).then((function(e){return e.json()})).then((function(e){n.innerHTML="Prediction <strong>".concat(e.predicted,"</strong>")}))}(e.inputRef.canvas.current,e.inputRef.video.current,e.inputRef.prediction.current)},children:"Take and Predict"})]})]})}}]),n}(c.a.Component),h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(l,{})}),document.getElementById("root")),h()}},[[14,1,2]]]);
//# sourceMappingURL=main.2403771c.chunk.js.map
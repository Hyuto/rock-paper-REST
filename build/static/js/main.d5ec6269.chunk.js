(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(13),r=n.n(a),s=(n(37),n(21)),o=n(16),d=n(27),u=n(26),l=n(57),h=n(58),j=n(61),f=n(62),b=n(63),p=n(64),g=n(59),v=n(60),m=n(5),O=n(4),x=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(s.a)(this,n),(c=t.call(this,e)).inputRef={canvas:i.a.createRef(null),video:i.a.createRef(null),prediction:i.a.createRef(null)},c}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(l.a,{}),Object(O.jsxs)(h.a,{maxWidth:"sm",className:t.root,children:[Object(O.jsxs)(h.a,{className:t.cards,children:[Object(O.jsx)(p.a,{className:t.cards.card,children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)("video",{ref:this.inputRef.video,autoPlay:!0,width:"128",height:"128"}),Object(O.jsx)(v.a,{children:Object(O.jsx)(j.a,{gutterBottom:!0,variant:"caption",component:"h3",children:"Webcam"})})]})}),Object(O.jsx)(p.a,{className:t.cards.card,children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)("canvas",{ref:this.inputRef.canvas,className:"figure-img img-fluid rounded",width:"128",height:"128"}),Object(O.jsx)(v.a,{children:Object(O.jsx)(j.a,{gutterBottom:!0,variant:"caption",component:"p",ref:this.inputRef.prediction})})]})})]}),Object(O.jsxs)(h.a,{className:t.buttons,children:[Object(O.jsx)(f.a,{variant:"contained",className:t.buttons,onClick:function(){return t=e.inputRef.video.current,void(navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.srcObject=e})).catch((function(e){console.log(e)})));var t},children:"Start"}),Object(O.jsx)(f.a,{variant:"contained",color:"secondary",className:t.buttons,onClick:function(){return function(e,t,n){if(null!==t.srcObject){for(var c=e.getContext("2d"),i=t.srcObject.getTracks(),a=0;a<i.length;a++)i[a].stop();t.srcObject=null,c.clearRect(0,0,e.width,e.height),n.innerHTML=""}}(e.inputRef.canvas.current,e.inputRef.video.current,e.inputRef.prediction.current)},children:"Stop"}),Object(O.jsx)(f.a,{variant:"contained",color:"primary",endIcon:Object(O.jsx)(b.a,{children:"send"}),className:t.buttons,onClick:function(){return function(e,t,n){var c=e.getContext("2d");c.drawImage(t,0,0,e.width,e.height);var i=Array.from(c.getImageData(0,0,e.width,e.height).data);fetch("".concat(window.location.href,"api/"),{method:"POST",body:JSON.stringify({image:i})}).then((function(e){return e.json()})).then((function(e){n.innerHTML="Prediction <strong>".concat(e.predicted,"</strong>")}))}(e.inputRef.canvas.current,e.inputRef.video.current,e.inputRef.prediction.current)},children:"Take and Predict"})]})]})]})}}]),n}(i.a.Component),R=Object(m.a)((function(e){return{root:{width:"100vw",height:"100vh",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},cards:{display:"flex","justify-content":"center",card:{maxWidth:200}},buttons:{"text-align":"center",margin:e.spacing(.5)}}}))(x),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),w()}},[[43,1,2]]]);
//# sourceMappingURL=main.d5ec6269.chunk.js.map